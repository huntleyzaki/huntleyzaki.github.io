<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>huntleyzaki.dev</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2T4JT3XC5K"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2T4JT3XC5K');
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background: #0a0a0a;
    color: #fff;
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    overflow-x: hidden;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
    from { bottom: -100px; opacity: 0; }
    to { bottom: 20px; opacity: 1; }
}

.parallax-layer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('https://example.com/space-pattern.png') center/cover;
    opacity: 0.1;
    z-index: 0;
    pointer-events: none;
    transition: transform 0.1s ease-out;
}

#dots-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

.container {
    width: 90%;
    max-width: 1200px;
    padding: 2rem;
    background: rgba(15, 15, 15, 0.2);
    backdrop-filter: blur(2px);
    border-radius: 15px;
    margin: 2rem auto 0;
    z-index: 2;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.1);
    animation: fadeIn 1s ease-out forwards;
    opacity: 0;
}

.avatar {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 3px solid #ff006e;
    margin: 0 auto 1rem;
    overflow: hidden;
    box-shadow: 0 0 25px rgba(255, 0, 110, 0.5);
    animation: fadeIn 1s ease-out 0.3s forwards;
    opacity: 0;
}

.avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.hero {
    text-align: center;
    padding: 1rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    animation: fadeIn 1s ease-out 0.5s forwards;
    opacity: 0;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    color: #ff006e;
    text-shadow: 0 0 15px rgba(255, 0, 110, 0.4);
}

.hero h2 {
    color: #666;
    font-weight: 400;
    margin-bottom: 1rem;
}

.roles {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 1rem;
}

.role-tag {
    background: rgba(34, 34, 34, 0.8);
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-size: 0.95rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.role-tag:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 110, 0.3);
}

.projects, .skills, .stats, .achievements {
    margin: 2rem 0;
    padding: 1.5rem;
    background: rgba(20, 20, 20, 0.8);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    animation: fadeIn 1s ease-out forwards;
}

.project-card {
    background: rgba(17, 17, 17, 0.8);
    padding: 1.5rem;
    border-radius: 12px;
    margin: 1.5rem 0;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.project-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(255, 0, 110, 0.3);
}

.skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.skill-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    background: rgba(24, 24, 24, 0.8);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.skill-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 110, 0.2);
}

.skill-item i {
    margin-bottom: 0.5rem;
}

.social-links {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    margin: 3rem 0 1.5rem;
    flex-wrap: wrap;
    animation: fadeIn 1s ease-out 1.1s forwards;
    opacity: 0;
}

.social-link {
    background: rgba(34, 34, 34, 0.8);
    color: white;
    padding: 12px 30px;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 0 20px rgba(255, 0, 110, 0.3);
    border: 2px solid #ff006e;
}

.social-link:hover {
    background: #ff006e;
    transform: translateY(-3px);
    box-shadow: 0 0 30px rgba(255, 0, 110, 0.5);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.stat-item {
    text-align: center;
    padding: 1rem;
    background: rgba(34, 34, 34, 0.9);
    border-radius: 8px;
    transition: all 0.3s ease;
}

.stat-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(255, 0, 110, 0.2);
}

.stat-item h3 {
    color: #ff006e;
    margin-bottom: 0.5rem;
}

.achievement {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.8rem;
    margin: 0.5rem 0;
    background: rgba(30, 30, 30, 0.9);
    border-radius: 8px;
    opacity: 0.5;
    transition: all 0.3s ease;
}

.achievement.unlocked {
    opacity: 1;
    border-left: 4px solid #ff006e;
    box-shadow: 0 0 15px rgba(255, 0, 110, 0.2);
}

.achievement-notif {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(90deg, #ff006e, #d4006e);
    color: white;
    padding: 1rem 2rem;
    border-radius: 8px;
    z-index: 1000;
    animation: slideUp 0.5s ease-out;
    box-shadow: 0 0 20px rgba(255, 0, 110, 0.5);
}

.games-container {
    margin: 2rem 0;
    padding: 1.5rem;
    background: rgba(20, 20, 20, 0.8);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    animation: fadeIn 1s ease-out forwards;
}

.game {
    width: 100%;
    max-width: 400px;
    background: rgba(34, 34, 34, 0.8);
    padding: 1rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin: 0 auto 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.game h3 {
    text-align: center;
    margin-bottom: 1.5rem;
    color: #ff006e;
    font-size: 1.5rem;
    text-shadow: 0 0 10px rgba(255, 0, 110, 0.4);
}

.game-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    width: 100%;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    padding: 0 15px;
}

.game-controls {
    display: flex;
    justify-content: center;
    width: 100%;
    margin-top: 1rem;
}

.game-buttons button {
    background: linear-gradient(135deg, #ff006e, #d4006e);
    color: white;
    border: none;
    padding: 0.7rem 1.5rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 0, 110, 0.3);
    flex: 1 1 auto;
    min-width: 180px;
    text-align: center;
    white-space: nowrap;
}

#restart-minesweeper, 
#restart-snake {
    background: linear-gradient(135deg, #ff006e, #d4006e);
    color: white;
    border: none;
    padding: 0.8rem 1.8rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 0, 110, 0.3);
}

#restart-minesweeper:hover, 
#restart-snake:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(255, 0, 110, 0.5);
}

#restart-minesweeper:active, 
#restart-snake:active {
    transform: translateY(1px);
}

#minesweeper {
    background: #c0c0c0;
    border: 2px solid #808080;
    display: block;
    margin: 0 auto;
}

.minesweeper-cell {
    background: #c0c0c0;
    border: 1px solid #808080;
}

.minesweeper-cell.revealed {
    background: #e0e0e0;
}

.minesweeper-mine {
    background: #ff0000; 
}

.minesweeper-flag {
    background: #00ff00; 
}

.minesweeper-number-1 { color: #0000ff; }
.minesweeper-number-2 { color: #008000; }
.minesweeper-number-3 { color: #ff0000; }
.minesweeper-number-4 { color: #000080; }
.minesweeper-number-5 { color: #800000; }
.minesweeper-number-6 { color: #008080; }
.minesweeper-number-7 { color: #000000; }
.minesweeper-number-8 { color: #808080; }

#snake {
    background: rgba(20, 20, 20, 0.9);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    display: block;
    margin: 0 auto;
}

.battleship-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
    margin-top: 1.5rem;
}

.board-container {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.board-container h3 {
    color: #ff006e;
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.battleship-board {
    display: grid;
    grid-template-columns: repeat(10, 30px);
    grid-template-rows: repeat(10, 30px);
    gap: 2px;
    margin-bottom: 1rem;
    background: rgba(20, 20, 20, 0.9);
    padding: 10px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.battleship-cell {
    width: 30px;
    height: 30px;
    background-color: rgba(40, 40, 40, 0.9);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.battleship-cell:hover {
    background-color: rgba(60, 60, 60, 0.9);
}

.battleship-cell.hit {
    background-color: #ff006e;
    position: relative;
}

.battleship-cell.hit::after {
    content: '✖';
    color: white;
    font-size: 18px;
}

.battleship-cell.miss {
    background-color: rgba(100, 100, 100, 0.7);
    position: relative;
}

.battleship-cell.miss::after {
    content: '•';
    color: rgba(255, 255, 255, 0.7);
    font-size: 20px;
}

.battleship-cell.ship {
    background-color: rgba(100, 255, 218, 0.3);
    border: 1px solid rgba(100, 255, 218, 0.5);
}

.battleship-info {
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.1rem;
    color: #ccc;
    min-height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    background: rgba(30, 30, 30, 0.8);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.5rem;
    flex-wrap: wrap;
}

.btn {
    background: linear-gradient(135deg, #ff006e, #d4006e);
    color: white;
    border: none;
    padding: 0.8rem 1.8rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 0, 110, 0.3);
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(255, 0, 110, 0.5);
}

.btn:active {
    transform: translateY(1px);
}

.btn-restart {
    background: linear-gradient(135deg, #ff5555, #e04f4f);
}

#theme-toggle, #language-toggle {
    position: absolute;
    top: 1rem;
    background: linear-gradient(135deg, #ff006e, #d4006e);
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(255, 0, 110, 0.3);
}

#theme-toggle {
    left: 1rem;
}

#language-toggle {
    right: 1rem;
}

footer {
    text-align: center;
    padding: 1.5rem 0;
    color: #666;
    font-size: 0.9rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(15, 15, 15, 0.2);
    backdrop-filter: blur(2px);
    width: 100%;
    margin-top: auto;
}

.light-mode {
    background: #f5f5f5;
    color: #333;
}

.light-mode .container, 
.light-mode .project-card, 
.light-mode .skill-item,
.light-mode .role-tag,
.light-mode .social-link,
.light-mode .stats,
.light-mode .achievements,
.light-mode .game,
.light-mode .games-container {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    border-color: rgba(0, 0, 0, 0.1);
}

.light-mode .hero h1 {
    color: #d4006e;
    text-shadow: 0 0 10px rgba(212, 0, 110, 0.3);
}

.light-mode footer {
    background: rgba(240, 240, 240, 0.9);
}

.light-mode .stat-item,
.light-mode .achievement {
    background: rgba(240, 240, 240, 0.9);
}

.light-mode .battleship-cell {
    background-color: rgba(220, 220, 220, 0.9);
}

.light-mode .battleship-cell:hover {
    background-color: rgba(200, 200, 200, 0.9);
}

.music-player {
    position: fixed;
    bottom: 80px;
    left: 20px;
    z-index: 1000;
    background: rgba(34, 34, 34, 0.9);
    border-radius: 12px;
    padding: 15px;
    width: 300px;
    box-shadow: 0 0 15px rgba(255, 0, 110, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: none;
}

.music-player.active {
    display: block;
}

.player-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    min-width: 0;
}

.player-btn {
    background: #ff006e;
    color: white;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.player-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px rgba(255, 0, 110, 0.7);
}

.player-btn {
    flex-shrink: 0;
}

.track-info {
    flex-grow: 1;
    min-width: 0;
}

.track-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 14px;
    margin-bottom: 2px;
}

.track-artist {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 12px;
    color: #aaa;
}

.progress-container {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    margin-bottom: 10px;
    cursor: pointer;
}

.progress-bar {
    height: 100%;
    background: #ff006e;
    border-radius: 2px;
    width: 0%;
}

.time-display {
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    color: #aaa;
}

.playlist {
    max-height: 200px;
    overflow-y: auto;
    margin-top: 10px;
}

.playlist-item {
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.playlist-item:hover {
    background: rgba(255, 0, 110, 0.2);
}

.playlist-item.active {
    background: rgba(255, 0, 110, 0.4);
}

#toggle-player {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 1000;
    background: linear-gradient(135deg, #ff006e, #d4006e);
    color: white;
    border: none;
    padding: 0.8rem 1.8rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 0, 110, 0.3);
}

#toggle-player:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(255, 0, 110, 0.5);
}

.search-container {
    margin-bottom: 10px;
}

#search-input {
    width: 100%;
    padding: 8px;
    border-radius: 20px;
    border: none;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    outline: none;
}

#gif-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
    overflow: hidden;
}

.gif-particle {
    position: absolute;
    width: 30px;
    height: 30px;
    background-size: contain;
    background-repeat: no-repeat;
    will-change: transform;
}

/* Мобильные стили */
@media (max-width: 768px) {
    .container {
        width: 95%;
        padding: 1rem;
        margin: 1rem auto;
    }

    .hero h1 {
        font-size: 2rem;
    }

    .roles {
        gap: 0.8rem;
    }

    .role-tag {
        padding: 0.5rem 1rem;
        font-size: 0.8rem;
    }

    .social-links {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    .social-link {
        width: 100%;
        max-width: 200px;
        padding: 10px 20px;
        margin-bottom: 10px;
    }

    .stats-grid {
        grid-template-columns: 1fr 1fr;
    }

    .game-buttons {
        flex-direction: column;
        align-items: center;
    }

    .game-buttons button {
        width: 100%;
        max-width: 250px;
        margin-bottom: 10px;
    }

    #snake, #minesweeper {
        width: 280px;
        height: 280px;
    }

    .battleship-board {
        grid-template-columns: repeat(10, 25px);
        grid-template-rows: repeat(10, 25px);
    }

    .battleship-cell {
        width: 25px;
        height: 25px;
    }

    .controls {
        flex-direction: column;
        align-items: center;
    }

    .btn {
        width: 100%;
        max-width: 250px;
    }

    #theme-toggle, #language-toggle {
        padding: 0.3rem 0.6rem;
        font-size: 0.7rem;
        top: 0.5rem;
    }

    #theme-toggle {
        left: 0.5rem;
    }

    #language-toggle {
        right: 0.5rem;
    }

    .music-player {
        width: 90%;
        left: 5%;
        bottom: 70px;
    }

    #toggle-player {
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
}
    </style>
</head>
<body>
    <button id="toggle-player">🎵 Музыкальный плеер</button>
    
    <div class="music-player" id="music-player">
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Поиск музыки...">
        </div>
        <div class="player-controls">
            <button class="player-btn" id="prev-btn"><i class="fas fa-step-backward"></i></button>
            <button class="player-btn" id="play-btn"><i class="fas fa-play"></i></button>
            <button class="player-btn" id="next-btn"><i class="fas fa-step-forward"></i></button>
            <div class="track-info">
                <div class="track-title" id="track-title">Круелла - Тампоны</div>
                <div class="track-artist" id="track-artist">—</div>
            </div>
        </div>
        <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="time-display">
            <span id="current-time">0:00</span>
            <span id="duration">0:00</span>
        </div>
        <div class="playlist" id="playlist"></div>
    </div>
    <div class="parallax-layer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;"></div>
    <canvas id="dots-canvas"></canvas>

    <div class="container">
        <button id="theme-toggle" style="position: absolute; top: 1rem; left: 1rem; background: #ff006e; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">🌙 Светлая тема</button>
        <button id="language-toggle" style="position: absolute; top: 1rem; right: 1rem; background: #ff006e; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">English</button>

        <div class="avatar">
            <img src="https://www.gifs.nl//media/dota-2-gifs-jRYwaU.gif" alt="Avatar">
        </div>

        <section class="hero">
            <h1>huntleyzaki</h1>
            <h2>huntleyzaki.dev</h2>
            <div class="roles">
                <span class="role-tag">Разработчик</span>
                <span class="role-tag">Системный администратор</span>
                <span class="role-tag">Помощник</span>
            </div>
        </section>

<div class="games-container">
    <div class="game-buttons">
        <button id="show-minesweeper">Показать Сапера</button>
        <button id="show-snake">Показать Змейку</button>
        <button id="show-battleship">Показать Морской бой</button>
    </div>
    
<div class="game" id="minesweeper-game" style="display: none;">
    <h3>Сапер</h3>
    <canvas id="minesweeper" width="200" height="200"></canvas>
    <div class="game-controls">
        <button id="restart-minesweeper">Перезапустить Сапера</button>
    </div>
</div>
    
<div class="game" id="snake-game" style="display: none;">
    <h3>Змейка (ПК)</h3>
    <canvas id="snake" width="200" height="200"></canvas>
    <div class="game-controls">
        <button id="restart-snake">Перезапустить Змейку</button>
    </div>
</div>
    
    <div class="game" id="battleship-game" style="display: none;">
        <h3>Морской бой</h3>
        
        <div class="battleship-container">
            <div class="board-container">
                <h3>Ваше поле</h3>
                <div class="battleship-board" id="player-board"></div>
            </div>
            
            <div class="board-container">
                <h3>Поле противника</h3>
                <div class="battleship-board" id="enemy-board"></div>
            </div>
        </div>
        
        <div class="battleship-info" id="battleship-info">Расставьте ваши корабли на поле слева</div>
        
        <div class="controls">
            <button class="btn btn-primary" id="start-battleship">Начать игру</button>
            <button class="btn orientation-btn" id="change-orientation">Изменить ориентацию (Горизонтальная)</button>
            <button class="btn btn-restart" id="restart-battleship" style="display: none;">Начать заново</button>
                    </div>
    </div>
</div>
        <section class="projects">
            <div class="project-card">
                <h3>Разработчик ботов</h3>
                <p>Я создаю ботов для Discord и Telegram для различных функций.</p>
            </div>

            <div class="project-card">
                <h3>Веб-разработчик</h3>
                <p>У меня есть навыки создания сайтов для различных видов деятельности.</p>
            </div>

            <div class="project-card">
                <h3>Дизайнер</h3>
                <p>Захочу и сватоны на фоне заебашу.</p>
            </div>
                
            <div class="project-card">
                <h3>Скромный</h3>
                <p>Короче дохуя чего могу.</p>
        </section>

<section class="skills">
    <h2>Навыки</h2>
    <div class="skills-grid">
        <div class="skill-item">
            <i class="fab fa-html5" style="color: #E34F26; font-size: 24px; margin-bottom: 10px;"></i>
            <h3>HTML</h3>
            <p>Веб-разработка</p>
        </div>
        <div class="skill-item">
            <i class="fab fa-css3-alt" style="color: #1572B6; font-size: 24px; margin-bottom: 10px;"></i>
            <h3>CSS</h3>
            <p>Веб-разработка</p>
        </div>
        
        <div class="skill-item">
            <i class="fab fa-js" style="color: #F7DF1E; font-size: 24px; margin-bottom: 10px;"></i>
            <h3>JavaScript</h3>
            <p>Веб-разработка</p>
        </div>
        
        <div class="skill-item">
            <i class="fab fa-python" style="color: #3776AB; font-size: 24px; margin-bottom: 10px;"></i>
            <h3>Python</h3>
            <p>Программирование</p>
        </div>
        <div class="skill-item">
            <i class="fas fa-code" style="color: #239120; font-size: 24px; margin-bottom: 10px;"></i>
            <h3>C#</h3>
            <p>Программирование</p>
        </div>
<div class="skill-item">
    <i class="fab fa-discord" style="color: #5865F2; font-size: 24px; margin-bottom: 10px;"></i>
    <h3>Опыт с RPC</h3>
    <p>Кастомный RPC для Discord</p>
</div>
<div class="skill-item">
    <i class="fas fa-hourglass-half" style="color: #ff006e; font-size: 24px; margin-bottom: 10px;"></i>
    <h3>Скоро...</h3>
</div>
    </div>
    </section>

    <div class="social-links">
        <a href="https://t.me/huntleyzaki" target="_blank" class="social-link">
            Telegram <i class="fab fa-telegram"></i>
        </a>
        <a href="https://discord.com/users/681499145034399759" target="_blank" class="social-link">
            Discord <i class="fab fa-discord"></i>
        </a>
        <a href="https://tiktok.com/@huntleyzaki" target="_blank" class="social-link">
            TikTok <i class="fab fa-tiktok"></i>
        </a>
        <a href="https://steamcommunity.com/id/huntleyzaki/с" target="_blank" class="social-link">
            Steam <i class="fab fa-steam"></i>
        </a>
        <a href="https://github.com/huntleyzaki" target="_blank" class="social-link">
            GitHub <i class="fab fa-github"></i>
        </a>
    </div>
    <section class="stats">
    <h2>📊 Статистика</h2>
    <div class="stats-grid">
        <div class="stat-item">
            <h3>Посетители</h3>
            <p id="visitors">53</p>
        </div>
        <div class="stat-item">
            <h3>Игры сыграно</h3>
            <p id="games-played">0</p>
        </div>
        <div class="stat-item">
            <h3>Рекорд в Змейке</h3>
            <p id="snake-record">0</p>
        </div>
        <div class="stat-item">
            <h3>Победы в Морском бое</h3>
            <p id="battleship-wins">0</p>
        </div>
    </div>
</section>

<div class="achievements">
    <h2>🏆 Достижения</h2>
    <div id="achievements-list"></div>
</div>
    </div>

    <footer>
        <p>© 2025 huntleyzaki.dev. Все права защищены.</p>
    </footer>
<script>
const canvas = document.getElementById('dots-canvas');
const ctx = canvas.getContext('2d');
let dots = [];

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}

class Dot {
    constructor() {
        this.reset();
        this.alpha = Math.random() * 0.6 + 0.4;
        this.size = Math.random() * 1 + 2;
        this.speedX = (Math.random() - 0.5) * 1.5;
        this.speedY = (Math.random() - 0.5) * 1.5;
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.angle = Math.random() * Math.PI * 2;
    }

    reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
    }

    update() {
        this.x += Math.cos(this.angle) * this.speedX;
        this.y += Math.sin(this.angle) * this.speedY;

        if (this.x < -50 || this.x > canvas.width + 50 || this.y < -50 || this.y > canvas.height + 50) {
            this.reset();
        }
    }

    draw() {
        ctx.fillStyle = `rgba(255, 0, 110, ${this.alpha})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
    }
}

function initDots() {
    resizeCanvas();
    dots = Array(300).fill().map(() => new Dot());
    window.addEventListener('resize', resizeCanvas);
    animateDots();
}

function animateDots() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    dots.forEach(dot => {
        dot.update();
        dot.draw();
    });
    requestAnimationFrame(animateDots);
}

initDots();

document.addEventListener('mousemove', (e) => {
    const x = e.clientX / window.innerWidth - 0.5;
    const y = e.clientY / window.innerHeight - 0.5;
    document.querySelector('.parallax-layer').style.transform = `translate(${x * 30}px, ${y * 30}px)`;
});

document.getElementById('theme-toggle').addEventListener('click', () => {
    document.body.classList.toggle('light-mode');
    const isLight = document.body.classList.contains('light-mode');
    document.getElementById('theme-toggle').textContent = isLight ? '🌞 Темная тема' : '🌙 Светлая тема';
    localStorage.setItem('theme', isLight ? 'light' : 'dark');
});

if (localStorage.getItem('theme') === 'light') {
    document.body.classList.add('light-mode');
    document.getElementById('theme-toggle').textContent = '🌞 Темная тема';
}

const languageToggle = document.getElementById('language-toggle');
const elementsToTranslate = {
    'hero h1': { en: 'huntleyzaki', ru: 'huntleyzaki' },
    'hero h2': { en: 'huntleyzaki.dev', ru: 'huntleyzaki.dev' },
    '.role-tag:nth-child(1)': { en: 'Developer', ru: 'Разработчик' },
    '.role-tag:nth-child(2)': { en: 'System Admin', ru: 'Системный администратор' },
    '.role-tag:nth-child(3)': { en: 'Helper', ru: 'Помощник' },
    '#show-minesweeper': { en: 'Show Minesweeper', ru: 'Показать Сапера' },
    '#show-snake': { en: 'Show Snake', ru: 'Показать Змейку' },
    '#show-battleship': { en: 'Show Battleship', ru: 'Показать Морской бой' },
    '#restart-minesweeper': { en: 'Restart Minesweeper', ru: 'Перезапустить Сапера' },
    '#restart-snake': { en: 'Restart Snake', ru: 'Перезапустить Змейку' },
    '#restart-battleship': { en: 'Restart Game', ru: 'Начать заново' },
    '#start-battleship': { en: 'Start Game', ru: 'Начать игру' },
    '#minesweeper-game h3': { en: 'Minesweeper', ru: 'Сапер' },
    '#snake-game h3': { en: 'Snake (PC)', ru: 'Змейка (ПК)' },
    '#battleship-game h3': { en: 'Battleship', ru: 'Морской бой' },
    '#play-music': { en: 'Play Music', ru: 'Включить музыку' },
    '#stop-music': { en: 'Stop Music', ru: 'Остановить музыку' },
    '.skills h2': { en: 'Skills', ru: 'Навыки' },
    '.skill-item:nth-child(1) h3': { en: 'HTML/CSS', ru: 'HTML/CSS' },
    '.skill-item:nth-child(1) p': { en: 'Web Development', ru: 'Веб-разработка' },
    '.skill-item:nth-child(2) h3': { en: 'Python', ru: 'Python' },
    '.skill-item:nth-child(2) p': { en: 'Programming', ru: 'Программирование' },
    '.skill-item:nth-child(3) h3': { en: 'C#', ru: 'C#' },
    '.skill-item:nth-child(3) p': { en: 'Programming', ru: 'Программирование' },
'.skill-item:nth-child(4) h3': { en: 'Creativity', ru: 'Креативность' },
'.skill-item:nth-child(4) p': { en: 'Creating Servers', ru: 'Создание серверов' },
'.skill-item:nth-child(5) h3': { en: 'RPC Experience', ru: 'Опыт с RPC' },
'.skill-item:nth-child(5) p': { en: 'Custom RPC for Discord', ru: 'Кастомный RPC для Discord' },
'.skill-item:nth-child(6) h3': { en: 'Coming Soon...', ru: 'Скоро...' },
    'footer p': { en: '© 2025 huntleyzaki.dev. All rights reserved.', ru: '© 2025 huntleyzaki.dev. Все права защищены.' },
    '#language-toggle': { en: 'Русский', ru: 'English' },
    '.stats h2': { en: '📊 Statistics', ru: '📊 Статистика' },
    '.stat-item:nth-child(1) h3': { en: 'Visitors', ru: 'Посетители' },
    '.stat-item:nth-child(2) h3': { en: 'Games Played', ru: 'Игры сыграно' },
    '.stat-item:nth-child(3) h3': { en: 'Snake Record', ru: 'Рекорд в Змейке' },
    '.stat-item:nth-child(4) h3': { en: 'Battleship Wins', ru: 'Победы в Морском бое' },
    '.achievements h2': { en: '🏆 Achievements', ru: '🏆 Достижения' },
    '.board-container:nth-child(1) h3': { en: 'Your Board', ru: 'Ваше поле' },
    '.board-container:nth-child(2) h3': { en: 'Enemy Board', ru: 'Поле противника' },
    '#battleship-info': { en: 'Place your ships on the left board', ru: 'Расставьте ваши корабли на поле слева' },
    '#start-battleship': { en: 'Start Game', ru: 'Начать игру' },
    '#change-orientation': { en: 'Change Orientation (Horizontal)', ru: 'Изменить ориентацию (Горизонтальная)' },
    '#restart-battleship': { en: 'Restart Game', ru: 'Начать заново' },
    'battleship-messages.place_all_ships': { en: 'You must place all ships before starting the game!', ru: 'Вы должны разместить все корабли перед началом игры!' },
    'battleship-messages.game_started': { en: 'Game started. Your turn!', ru: 'Игра началась. Ваш ход!' },
    'battleship-messages.hit': { en: 'Hit! Shoot again!', ru: 'Попадание! Стреляйте еще раз!' },
    'battleship-messages.miss': { en: 'Miss! Enemy turn...', ru: 'Промах! Ход противника...' },
    'battleship-messages.enemy_hit': { en: 'Enemy hit! Their turn continues...', ru: 'Противник попал! Его ход продолжается...' },
    'battleship-messages.enemy_miss': { en: 'Enemy missed! Your turn!', ru: 'Противник промахнулся! Ваш ход!' },
    'battleship-messages.you_win': { en: 'You won! All enemy ships are sunk!', ru: 'Вы победили! Все корабли противника потоплены!' },
    'battleship-messages.you_lose': { en: 'You lost! All your ships are sunk!', ru: 'Вы проиграли! Все ваши корабли потоплены!' },
    'battleship-messages.place_ship': { en: 'Place a ship of size {size}. {shipsLeft} ships left to place.', ru: 'Разместите корабль размером {size}. Осталось разместить {shipsLeft} кораблей.' },
    'battleship-messages.all_ships_placed': { en: 'All ships placed. Click "Start Game".', ru: 'Все корабли размещены. Нажмите "Начать игру".' },
    'horizontal': { en: 'Horizontal', ru: 'Горизонтальная' },
    'vertical': { en: 'Vertical', ru: 'Вертикальная' },
    '.projects .project-card:nth-child(1) h3': { en: 'Bot Developer', ru: 'Разработчик ботов' },
    '.projects .project-card:nth-child(1) p': { en: 'I create Discord and Telegram bots with various functionalities.', ru: 'Я создаю ботов для Discord и Telegram для различных функций.' },
    '.projects .project-card:nth-child(2) h3': { en: 'Web Developer', ru: 'Веб-разработчик' },
    '.projects .project-card:nth-child(2) p': { en: 'I have skills in building websites for different purposes.', ru: 'У меня есть навыки создания сайтов для различных видов деятельности.' },
    '.projects .project-card:nth-child(4) h3': { en: 'Modest', ru: 'Скромный' },
    '.projects .project-card:nth-child(4) p': { en: 'I can do a lot of shit.', ru: 'Короче дохуя чего могу.' },
    '.projects .project-card:nth-child(3) h3': { en: 'Designer', ru: 'Дизайнер' },
    '.projects .project-card:nth-child(3) p': { en: 'If I want, I ll even put a fylfots in the background.', ru: 'Захочу и сватоны на фоне заебашу.' },
    'change_orientation': { en: 'Change Orientation ({orientation})', ru: 'Изменить ориентацию ({orientation})' }
};

let currentLanguage = 'ru';

languageToggle.addEventListener('click', () => {
    currentLanguage = currentLanguage === 'en' ? 'ru' : 'en';
    languageToggle.textContent = currentLanguage === 'en' ? 'Русский' : 'English';

    Object.keys(elementsToTranslate).forEach(selector => {
        const element = document.querySelector(selector);
        if (element) {
            element.textContent = elementsToTranslate[selector][currentLanguage];
        }
    });
});
document.getElementById('show-minesweeper').addEventListener('click', () => {
    gtag('event', 'game_start', {
        'game_name': 'Minesweeper'
    });
});

document.getElementById('show-snake').addEventListener('click', () => {
    gtag('event', 'game_start', {
        'game_name': 'Snake'
    });
});

document.getElementById('show-snake').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('snake-game').style.display = 'block';
    document.getElementById('minesweeper-game').style.display = 'none';
    document.getElementById('battleship-game').style.display = 'none';
    isSnakeGameActive = true;
});

document.getElementById('show-minesweeper').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('minesweeper-game').style.display = 'block';
    document.getElementById('snake-game').style.display = 'none';
    document.getElementById('battleship-game').style.display = 'none';
    isSnakeGameActive = false;
});

document.getElementById('show-battleship').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('battleship-game').style.display = 'block';
    document.getElementById('minesweeper-game').style.display = 'none';
    document.getElementById('snake-game').style.display = 'none';
    isSnakeGameActive = false;
    initBattleship();
});

document.getElementById('start-battleship').addEventListener('click', startGame);
document.getElementById('restart-battleship').addEventListener('click', initBattleship);
document.getElementById('change-orientation').addEventListener('click', function() {
    battleshipGame.currentOrientation = 
        battleshipGame.currentOrientation === 'horizontal' ? 'vertical' : 'horizontal';
    updateOrientationButton();
    renderBoards();
});

const snakeCanvas = document.getElementById('snake');
const snakeCtx = snakeCanvas.getContext('2d');
let snake = [{ x: 10, y: 10 }];
let food = { x: 15, y: 15 };
let dx = 0;
let dy = 0;
let gameOver = false;
let isSnakeGameActive = false;

function drawSnake() {
    snakeCtx.clearRect(0, 0, snakeCanvas.width, snakeCanvas.height);
    snakeCtx.fillStyle = '#00ff88';
    snake.forEach(segment => snakeCtx.fillRect(segment.x * 10, segment.y * 10, 10, 10));
    snakeCtx.fillStyle = '#ff006e';
    snakeCtx.fillRect(food.x * 10, food.y * 10, 10, 10);
}

function moveSnake() {
    if (gameOver) return;

    const head = { x: snake[0].x + dx, y: snake[0].y + dy };

    if (head.x < 0 || head.x >= snakeCanvas.width / 10 || head.y < 0 || head.y >= snakeCanvas.height / 10) {
        gameOver = true;
        stats.gamesPlayed++;
        updateStats();
        alert('Game Over!');
        return;
    }

    for (let i = 1; i < snake.length; i++) {
        if (head.x === snake[i].x && head.y === snake[i].y) {
            gameOver = true;
            stats.gamesPlayed++;
            updateStats();
            alert('Game Over!');
            return;
        }
    }

    snake.unshift(head);

    if (head.x === food.x && head.y === food.y) {
        food = {
            x: Math.floor(Math.random() * (snakeCanvas.width / 10)),
            y: Math.floor(Math.random() * (snakeCanvas.height / 10))
        };
        checkSnakeAchievements(snake.length);
    } else {
        snake.pop();
    }
}

function gameLoop() {
    moveSnake();
    drawSnake();
    if (!gameOver) {
        setTimeout(gameLoop, 100);
    }
}

document.addEventListener('keydown', (e) => {
    if (!isSnakeGameActive) return;
    
    switch (e.code) {
        case 'ArrowUp':
        case 'KeyW':
            if (dy === 0) {
                dx = 0;
                dy = -1;
            }
            break;
        case 'ArrowDown':
        case 'KeyS':
            if (dy === 0) {
                dx = 0;
                dy = 1;
            }
            break;
        case 'ArrowLeft':
        case 'KeyA':
            if (dx === 0) {
                dx = -1;
                dy = 0;
            }
            break;
        case 'ArrowRight':
        case 'KeyD':
            if (dx === 0) {
                dx = 1;
                dy = 0;
            }
            break;
    }
});

document.getElementById('restart-snake').addEventListener('click', () => {
    snake = [{ x: 10, y: 10 }];
    food = { x: 15, y: 15 };
    dx = 0;
    dy = 0;
    gameOver = false;
    isSnakeGameActive = true;
    gameLoop();
});

gameLoop();

const minesweeperCanvas = document.getElementById('minesweeper');
const minesweeperCtx = minesweeperCanvas.getContext('2d');
const gridSize = 10;
const cellSize = 20;
let board = Array(gridSize).fill().map(() => Array(gridSize).fill(0));
let revealed = Array(gridSize).fill().map(() => Array(gridSize).fill(false));
let flagged = Array(gridSize).fill().map(() => Array(gridSize).fill(false));
const mines = 15;
let gameOverMinesweeper = false;
let firstClick = true;

function placeMines(excludeX, excludeY) {
    let placed = 0;
    while (placed < mines) {
        const x = Math.floor(Math.random() * gridSize);
        const y = Math.floor(Math.random() * gridSize);

        if (board[x][y] !== -1 && 
            !(x >= excludeX - 1 && x <= excludeX + 1 && y >= excludeY - 1 && y <= excludeY + 1)) {
            board[x][y] = -1;
            placed++;
        }
    }
}

function countMines(x, y) {
    let count = 0;
    for (let i = -1; i <= 1; i++) {
        for (let j = -1; j <= 1; j++) {
            if (x + i >= 0 && x + i < gridSize && y + j >= 0 && y + j < gridSize && 
                board[x + i][y + j] === -1) {
                count++;
            }
        }
    }
    return count;
}

function revealCell(x, y) {
    if (x < 0 || x >= gridSize || y < 0 || y >= gridSize || revealed[x][y] || flagged[x][y]) return;

    revealed[x][y] = true;

    if (board[x][y] === -1) {
        gameOverMinesweeper = true;
        stats.gamesPlayed++;
        updateStats();
        revealAllMines();
        alert('Вы проиграли!');
        return;
    }

    const minesCount = countMines(x, y);
    board[x][y] = minesCount;

    if (minesCount === 0) {
        for (let i = -1; i <= 1; i++) {
            for (let j = -1; j <= 1; j++) {
                revealCell(x + i, y + j);
            }
        }
    }

    drawMinesweeper();

    let safeCells = gridSize * gridSize - mines;
    let revealedCells = revealed.flat().filter(cell => cell).length;
    if (revealedCells === safeCells) {
        gameOverMinesweeper = true;
        stats.gamesPlayed++;
        updateStats();
        checkMinesweeperAchievement();
        alert('Победа!');
    }
}

function revealAllMines() {
    for (let i = 0; i < gridSize; i++) {
        for (let j = 0; j < gridSize; j++) {
            if (board[i][j] === -1) {
                revealed[i][j] = true;
            }
        }
    }
    drawMinesweeper();
}

function toggleFlag(x, y) {
    if (x < 0 || x >= gridSize || y < 0 || y >= gridSize || revealed[x][y]) return;
    flagged[x][y] = !flagged[x][y];
    drawMinesweeper();
}

function drawMinesweeper() {
    minesweeperCtx.clearRect(0, 0, minesweeperCanvas.width, minesweeperCanvas.height);
    
    for (let i = 0; i < gridSize; i++) {
        for (let j = 0; j < gridSize; j++) {
            minesweeperCtx.fillStyle = revealed[i][j] ? '#C0C0C0' : '#696969';
            minesweeperCtx.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);
            
            minesweeperCtx.strokeStyle = '#808080';
            minesweeperCtx.strokeRect(i * cellSize, j * cellSize, cellSize, cellSize);

            if (revealed[i][j]) {
                if (board[i][j] === -1) {
                    minesweeperCtx.fillStyle = 'red';
                    minesweeperCtx.beginPath();
                    minesweeperCtx.arc(i * cellSize + cellSize/2, j * cellSize + cellSize/2, cellSize/3, 0, Math.PI * 2);
                    minesweeperCtx.fill();
                } else if (board[i][j] > 0) {
                    minesweeperCtx.fillStyle = getNumberColor(board[i][j]);
                    minesweeperCtx.font = 'bold 16px Arial';
                    minesweeperCtx.textAlign = 'center';
                    minesweeperCtx.textBaseline = 'middle';
                    minesweeperCtx.fillText(board[i][j], i * cellSize + cellSize/2, j * cellSize + cellSize/2);
                }
            } else if (flagged[i][j]) {
                minesweeperCtx.fillStyle = 'green';
                minesweeperCtx.beginPath();
                minesweeperCtx.moveTo(i * cellSize + 5, j * cellSize + 5);
                minesweeperCtx.lineTo(i * cellSize + cellSize - 5, j * cellSize + cellSize/2);
                minesweeperCtx.lineTo(i * cellSize + 5, j * cellSize + cellSize - 5);
                minesweeperCtx.closePath();
                minesweeperCtx.fill();
            }
        }
    }
}


function getNumberColor(num) {
    const colors = [
        '',
        '#0000ff', // 1 - синий
        '#008000', // 2 - зеленый
        '#ff0000', // 3 - красный
        '#000080', // 4 - темно-синий
        '#800000', // 5 - темно-красный
        '#008080', // 6 - бирюзовый
        '#000000', // 7 - черный
        '#808080'  // 8 - серый
    ];
    return colors[num];
}

minesweeperCanvas.addEventListener('click', (e) => {
    if (gameOverMinesweeper) return;

    const rect = minesweeperCanvas.getBoundingClientRect();
    const x = Math.floor((e.clientX - rect.left) / cellSize);
    const y = Math.floor((e.clientY - rect.top) / cellSize);

    if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
        if (firstClick) {
            placeMines(x, y);
            firstClick = false;

            for (let i = -1; i <= 1; i++) {
                for (let j = -1; j <= 1; j++) {
                    revealCell(x + i, y + j);
                }
            }
        } else {
            revealCell(x, y);
        }
    }
});

minesweeperCanvas.addEventListener('contextmenu', (e) => {
    e.preventDefault();
    if (gameOverMinesweeper) return;

    const rect = minesweeperCanvas.getBoundingClientRect();
    const x = Math.floor((e.clientX - rect.left) / cellSize);
    const y = Math.floor((e.clientY - rect.top) / cellSize);

    if (x >= 0 && x < gridSize && y >= 0 && y < gridSize) {
        toggleFlag(x, y);
    }
});

document.getElementById('restart-minesweeper').addEventListener('click', () => {
    board = Array(gridSize).fill().map(() => Array(gridSize).fill(0));
    revealed = Array(gridSize).fill().map(() => Array(gridSize).fill(false));
    flagged = Array(gridSize).fill().map(() => Array(gridSize).fill(false));
    gameOverMinesweeper = false;
    firstClick = true;
    drawMinesweeper();
});

drawMinesweeper();

        let battleshipGame = {
            playerBoard: Array(10).fill().map(() => Array(10).fill(0)),
            enemyBoard: Array(10).fill().map(() => Array(10).fill(0)),
            playerShips: [],
            enemyShips: [],
            gameStarted: false,
            currentShipSize: 4,
            currentOrientation: 'horizontal',
            shipsToPlace: [4, 3, 3, 2, 2, 2, 1, 1, 1, 1],
            currentShipIndex: 0,
            playerTurn: true,
            lastHit: null
        };

        function initBattleship() {
            battleshipGame = {
                playerBoard: Array(10).fill().map(() => Array(10).fill(0)),
                enemyBoard: Array(10).fill().map(() => Array(10).fill(0)),
                playerShips: [],
                enemyShips: [],
                gameStarted: false,
                currentShipSize: 4,
                currentOrientation: 'horizontal',
                shipsToPlace: [4, 3, 3, 2, 2, 2, 1, 1, 1, 1],
                currentShipIndex: 0,
                playerTurn: true,
                lastHit: null
            };

            generateEnemyShips();
            renderBoards();
            updateBattleshipInfo();
            document.getElementById('start-battleship').style.display = 'inline-block';
            document.getElementById('restart-battleship').style.display = 'none';
            document.getElementById('change-orientation').style.display = 'inline-block';
            updateOrientationButton();
        }

        function generateEnemyShips() {
            const shipSizes = [4, 3, 3, 2, 2, 2, 1, 1, 1, 1];
            
            for (const size of shipSizes) {
                let placed = false;
                let attempts = 0;
                
                while (!placed && attempts < 100) {
                    const x = Math.floor(Math.random() * 10);
                    const y = Math.floor(Math.random() * 10);
                    const orientation = Math.random() > 0.5 ? 'horizontal' : 'vertical';
                    
                    if (canPlaceEnemyShip(x, y, size, orientation)) {
                        placeEnemyShip(x, y, size, orientation);
                        placed = true;
                    }
                    
                    attempts++;
                }
            }
        }

        function canPlaceEnemyShip(x, y, size, orientation) {
            for (let i = 0; i < size; i++) {
                let cx = x, cy = y;
                if (orientation === 'horizontal') {
                    cx = x + i;
                } else {
                    cy = y + i;
                }
                
                if (cx < 0 || cx >= 10 || cy < 0 || cy >= 10) {
                    return false;
                }
                
                if (battleshipGame.enemyBoard[cx][cy] === 1) {
                    return false;
                }
                
                for (let dx = -1; dx <= 1; dx++) {
                    for (let dy = -1; dy <= 1; dy++) {
                        const nx = cx + dx;
                        const ny = cy + dy;
                        
                        if (nx >= 0 && nx < 10 && ny >= 0 && ny < 10 && 
                            battleshipGame.enemyBoard[nx][ny] === 1) {
                            return false;
                        }
                    }
                }
            }
            
            return true;
        }

        function placeEnemyShip(x, y, size, orientation) {
            const shipCells = [];
            
            for (let i = 0; i < size; i++) {
                let cx = x, cy = y;
                if (orientation === 'horizontal') {
                    cx = x + i;
                } else {
                    cy = y + i;
                }
                
                battleshipGame.enemyBoard[cx][cy] = 1;
                shipCells.push({ x: cx, y: cy });
            }
            
            battleshipGame.enemyShips.push({
                size: size,
                cells: shipCells,
                hits: 0
            });
        }

        function renderBoards() {
            const playerBoard = document.getElementById('player-board');
            const enemyBoard = document.getElementById('enemy-board');
            
            playerBoard.innerHTML = '';
            enemyBoard.innerHTML = '';

            for (let y = 0; y < 10; y++) {
                for (let x = 0; x < 10; x++) {
                    const playerCell = document.createElement('div');
                    playerCell.className = 'battleship-cell';
                    playerCell.dataset.x = x;
                    playerCell.dataset.y = y;
                    
                    if (battleshipGame.gameStarted) {
                        if (battleshipGame.playerBoard[x][y] === 2) {
                            playerCell.classList.add('hit');
                        } else if (battleshipGame.playerBoard[x][y] === 3) {
                            playerCell.classList.add('miss');
                        } else if (battleshipGame.playerBoard[x][y] === 1) {
                            playerCell.classList.add('ship');
                        }
                    } else {
                        if (battleshipGame.playerBoard[x][y] === 1) {
                            playerCell.classList.add('ship');
                        }
                        
                        const shipSize = battleshipGame.shipsToPlace[battleshipGame.currentShipIndex];
                        const orientation = battleshipGame.currentOrientation;
                        
                        playerCell.addEventListener('mouseover', () => {
                            highlightShipPlacement(x, y, shipSize, orientation, canPlaceShip(x, y, shipSize, orientation));
                        });
                        
                        playerCell.addEventListener('mouseout', () => {
                            clearHighlights();
                        });
                        
                        playerCell.addEventListener('click', () => {
                            placeShip(x, y, shipSize, orientation);
                        });
                        
                        playerCell.addEventListener('contextmenu', (e) => {
                            e.preventDefault();
                            battleshipGame.currentOrientation = 
                                battleshipGame.currentOrientation === 'horizontal' ? 'vertical' : 'horizontal';
                            updateOrientationButton();
                            renderBoards();
                        });
                    }
                    
                    playerBoard.appendChild(playerCell);
                    
                    const enemyCell = document.createElement('div');
                    enemyCell.className = 'battleship-cell';
                    enemyCell.dataset.x = x;
                    enemyCell.dataset.y = y;
                    
                    if (battleshipGame.gameStarted && battleshipGame.playerTurn) {
                        if (battleshipGame.enemyBoard[x][y] === 2) {
                            enemyCell.classList.add('hit');
                        } else if (battleshipGame.enemyBoard[x][y] === 3) {
                            enemyCell.classList.add('miss');
                        } else {
                            enemyCell.addEventListener('click', () => {
                                makeMove(x, y);
                            });
                        }
                    } else if (battleshipGame.gameStarted) {
                        if (battleshipGame.enemyBoard[x][y] === 2) {
                            enemyCell.classList.add('hit');
                        } else if (battleshipGame.enemyBoard[x][y] === 3) {
                            enemyCell.classList.add('miss');
                        }
                    }
                    
                    enemyBoard.appendChild(enemyCell);
                }
            }
        }

        function highlightShipPlacement(x, y, size, orientation, isValid) {
            const cells = document.querySelectorAll('#player-board .battleship-cell');
            
            for (let i = 0; i < size; i++) {
                let cx = x, cy = y;
                if (orientation === 'horizontal') {
                    cx = x + i;
                } else {
                    cy = y + i;
                }
                
                if (cx >= 0 && cx < 10 && cy >= 0 && cy < 10) {
                    const index = cy * 10 + cx;
                    if (index < cells.length) {
                        cells[index].style.backgroundColor = isValid ? 'rgba(100, 255, 218, 0.3)' : 'rgba(255, 85, 85, 0.3)';
                    }
                }
            }
        }

        function clearHighlights() {
            const cells = document.querySelectorAll('#player-board .battleship-cell');
            cells.forEach(cell => {
                cell.style.backgroundColor = '';
            });
        }

        function placeShip(x, y, size, orientation) {
            if (!canPlaceShip(x, y, size, orientation)) return;
            
            const shipCells = [];
            for (let i = 0; i < size; i++) {
                let cx = x, cy = y;
                if (orientation === 'horizontal') {
                    cx = x + i;
                } else {
                    cy = y + i;
                }
                
                battleshipGame.playerBoard[cx][cy] = 1;
                shipCells.push({ x: cx, y: cy });
            }
            
            battleshipGame.playerShips.push({
                size: size,
                cells: shipCells,
                hits: 0
            });
            
            battleshipGame.currentShipIndex++;
            
            if (battleshipGame.currentShipIndex < battleshipGame.shipsToPlace.length) {
                battleshipGame.currentShipSize = battleshipGame.shipsToPlace[battleshipGame.currentShipIndex];
            } else {
                document.getElementById('start-battleship').style.display = 'inline-block';
            }
            
            renderBoards();
            updateBattleshipInfo();
        }

        function canPlaceShip(x, y, size, orientation) {
            for (let i = 0; i < size; i++) {
                let cx = x, cy = y;
                if (orientation === 'horizontal') {
                    cx = x + i;
                } else {
                    cy = y + i;
                }
                
                if (cx < 0 || cx >= 10 || cy < 0 || cy >= 10) {
                    return false;
                }
                
                if (battleshipGame.playerBoard[cx][cy] === 1) {
                    return false;
                }
                
                for (let dx = -1; dx <= 1; dx++) {
                    for (let dy = -1; dy <= 1; dy++) {
                        const nx = cx + dx;
                        const ny = cy + dy;
                        
                        if (nx >= 0 && nx < 10 && ny >= 0 && ny < 10 && 
                            battleshipGame.playerBoard[nx][ny] === 1) {
                            return false;
                        }
                    }
                }
            }
            
            return true;
        }

function startGame() {
    if (battleshipGame.currentShipIndex < battleshipGame.shipsToPlace.length) {
        alert(getTranslatedMessage('battleship-messages.place_all_ships'));
        return;
    }
            
    battleshipGame.gameStarted = true;
    document.getElementById('start-battleship').style.display = 'none';
    document.getElementById('change-orientation').style.display = 'none';
    updateBattleshipInfo('game_started');
    renderBoards();
}

function makeMove(x, y) {
    if (!battleshipGame.gameStarted || !battleshipGame.playerTurn) return;
    
    if (battleshipGame.enemyBoard[x][y] >= 2) return;
    
    if (battleshipGame.enemyBoard[x][y] === 1) {
        battleshipGame.enemyBoard[x][y] = 2;
                
                for (const ship of battleshipGame.enemyShips) {
                    for (const cell of ship.cells) {
                        if (cell.x === x && cell.y === y) {
                            ship.hits++;
                            
                            if (ship.hits === ship.size) {
                                markAroundEnemyShip(ship);
                                battleshipGame.lastHit = null;
                            } else {
                                battleshipGame.lastHit = { x, y };
                            }
                            break;
                        }
                    }
                }
                
        updateBattleshipInfo('hit');
    } else {
        battleshipGame.enemyBoard[x][y] = 3;
        battleshipGame.playerTurn = false;
        updateBattleshipInfo('miss');
        setTimeout(computerMove, 1000);
    }
    
    if (!checkWinCondition()) {
        renderBoards();
    }
            if (!checkWinCondition()) {
                renderBoards();
            }
        }

        function computerMove() {
            let x, y;
            let found = false;
            
            if (battleshipGame.lastHit) {
                const directions = [
                    { dx: 1, dy: 0 }, { dx: -1, dy: 0 },
                    { dx: 0, dy: 1 }, { dx: 0, dy: -1 }
                ];
                
                directions.sort(() => Math.random() - 0.5);
                
                for (const dir of directions) {
                    x = battleshipGame.lastHit.x + dir.dx;
                    y = battleshipGame.lastHit.y + dir.dy;
                    
                    if (x >= 0 && x < 10 && y >= 0 && y < 10 && 
                        battleshipGame.playerBoard[x][y] < 2) {
                        found = true;
                        break;
                    }
                }
            }
            
            if (!found) {
                let attempts = 0;
                do {
                    x = Math.floor(Math.random() * 10);
                    y = Math.floor(Math.random() * 10);
                    attempts++;
                } while (battleshipGame.playerBoard[x][y] >= 2 && attempts < 100);
            }
            
            if (battleshipGame.playerBoard[x][y] === 1) {
                battleshipGame.playerBoard[x][y] = 2;
                
                for (const ship of battleshipGame.playerShips) {
                    for (const cell of ship.cells) {
                        if (cell.x === x && cell.y === y) {
                            ship.hits++;
                            
                            if (ship.hits === ship.size) {
                                markAroundPlayerShip(ship);
                                battleshipGame.lastHit = null;
                            } else {
                                battleshipGame.lastHit = { x, y };
                            }
                            break;
                        }
                    }
                }
                
        updateBattleshipInfo('enemy_hit');
        setTimeout(computerMove, 1000);
            } else {
                battleshipGame.playerBoard[x][y] = 3;
                battleshipGame.playerTurn = true;
                updateBattleshipInfo('Противник промахнулся! Ваш ход!');
            }
            
            if (!checkWinCondition()) {
                renderBoards();
            }
        }

        function markAroundEnemyShip(ship) {
            for (const cell of ship.cells) {
                for (let dx = -1; dx <= 1; dx++) {
                    for (let dy = -1; dy <= 1; dy++) {
                        const x = cell.x + dx;
                        const y = cell.y + dy;
                        
                        if (x >= 0 && x < 10 && y >= 0 && y < 10 && 
                            battleshipGame.enemyBoard[x][y] === 0) {
                            battleshipGame.enemyBoard[x][y] = 3;
                        }
                    }
                }
            }
        }

        function markAroundPlayerShip(ship) {
            for (const cell of ship.cells) {
                for (let dx = -1; dx <= 1; dx++) {
                    for (let dy = -1; dy <= 1; dy++) {
                        const x = cell.x + dx;
                        const y = cell.y + dy;
                        
                        if (x >= 0 && x < 10 && y >= 0 && y < 10 && 
                            battleshipGame.playerBoard[x][y] === 0) {
                            battleshipGame.playerBoard[x][y] = 3;
                        }
                    }
                }
            }
        }

function checkWinCondition() {
    const playerWon = battleshipGame.enemyShips.every(ship => ship.hits === ship.size);
    if (playerWon) {
        updateBattleshipInfo('you_win');
        document.getElementById('restart-battleship').style.display = 'inline-block';
        checkBattleshipAchievement();
        return true;
    }
    
    const computerWon = battleshipGame.playerShips.every(ship => ship.hits === ship.size);
    if (computerWon) {
        updateBattleshipInfo('you_lose');
        document.getElementById('restart-battleship').style.display = 'inline-block';
        return true;
    }
    
    return false;
}

function updateBattleshipInfo(messageKey, params = {}) {
    const infoElement = document.getElementById('battleship-info');
    
    if (messageKey) {
        infoElement.textContent = getTranslatedMessage(`battleship-messages.${messageKey}`, params);
    } else if (battleshipGame.gameStarted) {
        infoElement.textContent = getTranslatedMessage(battleshipGame.playerTurn ? 
            'battleship-messages.game_started' : 'battleship-messages.enemy_miss');
    } else {
        const shipsLeft = battleshipGame.shipsToPlace.length - battleshipGame.currentShipIndex;
        if (shipsLeft > 0) {
            const shipSize = battleshipGame.shipsToPlace[battleshipGame.currentShipIndex];
            updateBattleshipInfo('place_ship', { size: shipSize, shipsLeft: shipsLeft });
        } else {
            updateBattleshipInfo('all_ships_placed');
        }
    }
}

function updateOrientationButton() {
    const btn = document.getElementById('change-orientation');
    const orientation = battleshipGame.currentOrientation === 'horizontal' ? 
        getTranslatedMessage('horizontal') : 
        getTranslatedMessage('vertical');
    btn.textContent = getTranslatedMessage('change_orientation', { orientation });
}
document.addEventListener('DOMContentLoaded', function() {
    initBattleship();
    gameLoop();
    drawMinesweeper();
});

function getTranslatedMessage(key, params = {}) {
    if (elementsToTranslate[key]) {
        let message = elementsToTranslate[key][currentLanguage];
        for (const [param, value] of Object.entries(params)) {
            message = message.replace(`{${param}}`, value);
        }
        return message;
    }
    return key;
}

let stats = JSON.parse(localStorage.getItem('stats')) || {
    visitors: 17,
    gamesPlayed: 0,
    snakeRecord: 0,
    battleshipWins: 0,
    achievements: []
};

// Отправляем событие в Google Analytics
gtag('event', 'page_view', {
    'page_title': 'huntleyzaki.dev',
    'page_location': window.location.href
});

// Обновляем отображение (показываем локальные данные)
document.getElementById('visitors').textContent = stats.visitors;
document.getElementById('games-played').textContent = stats.gamesPlayed;
document.getElementById('snake-record').textContent = stats.snakeRecord;
document.getElementById('battleship-wins').textContent = stats.battleshipWins || 0;

// Проверяем достижения
if (stats.visitors === 1 && !stats.achievements.includes('first_visit')) {
    stats.achievements.push('first_visit');
    showAchievementNotification('Первый визит');
    localStorage.setItem('stats', JSON.stringify(stats));
}

function updateStats() {
    document.getElementById('visitors').textContent = stats.visitors;
    document.getElementById('games-played').textContent = stats.gamesPlayed;
    document.getElementById('snake-record').textContent = stats.snakeRecord;
    document.getElementById('battleship-wins').textContent = stats.battleshipWins || 0;
    localStorage.setItem('stats', JSON.stringify(stats));
    checkAchievements();
}

const achievements = [
    { id: 'first_visit', title: 'Первый визит', description: 'Зашли на сайт впервые' },
    { id: 'snake_30', title: 'Змейка: 30 очков', description: 'Набрать 30 очков в Змейке' },
    { id: 'minesweeper_win', title: 'Сапер: Победа!', description: 'Победить в Сапере' },
    { id: 'battleship_win', title: 'Морской бой: Победа!', description: 'Победить в Морском бое' }
];

function checkAchievements() {
    const list = document.getElementById('achievements-list');
    list.innerHTML = '';
    
    achievements.forEach(ach => {
        const unlocked = stats.achievements.includes(ach.id);
        const div = document.createElement('div');
        div.className = `achievement ${unlocked ? 'unlocked' : ''}`;
        div.innerHTML = `
            <i class="fas fa-${unlocked ? 'check-circle' : 'lock'}"></i>
            <div>
                <h4>${ach.title} ${unlocked ? '✅' : ''}</h4>
                <p>${ach.description}</p>
            </div>
        `;
        list.appendChild(div);
    });
}

function checkSnakeAchievements(length) {
    if (length >= 30 && !stats.achievements.includes('snake_30')) {
        stats.achievements.push('snake_30');
        showAchievementNotification('Змейка: 30 очков');
    }
    if (length > stats.snakeRecord) {
        stats.snakeRecord = length;
    }
    updateStats();
}

function checkMinesweeperAchievement() {
    if (!stats.achievements.includes('minesweeper_win')) {
        stats.achievements.push('minesweeper_win');
        showAchievementNotification('Сапер: Победа!');
        updateStats();
    }
}

function checkBattleshipAchievement() {
    if (!stats.achievements.includes('battleship_win')) {
        stats.achievements.push('battleship_win');
        showAchievementNotification('Морской бой: Победа!');
        updateStats();
    }
}

function showAchievementNotification(title) {
    const notif = document.createElement('div');
    notif.className = 'achievement-notif';
    notif.innerHTML = `
        <span>🏆 Новое достижение!</span>
        <h3>${title}</h3>
    `;
    document.body.appendChild(notif);
    setTimeout(() => notif.remove(), 3000);
}

updateStats();

        const togglePlayerBtn = document.getElementById('toggle-player');
        const musicPlayer = document.getElementById('music-player');
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const trackTitle = document.getElementById('track-title');
        const trackArtist = document.getElementById('track-artist');
        const playlistEl = document.getElementById('playlist');
        const searchInput = document.getElementById('search-input');

        // YouTube API ключ
        const YOUTUBE_API_KEY = 'AIzaSyBQOvu1XKazEQP3oAqdNco6DnYU0fi9Bpk';

        // Состояние плеера
        let playerState = {
            currentTrackIndex: -1,
            tracks: [],
            isPlaying: false,
            player: null,
            searchQuery: '',
            searchTimeout: null,
            playerReady: false,
            apiReady: false
        };

        // Инициализация плеера
        function initPlayer() {
            // Создаем iframe для YouTube плеера (скрытый)
            const playerDiv = document.createElement('div');
            playerDiv.id = 'youtube-player';
            playerDiv.style.display = 'none';
            document.body.appendChild(playerDiv);

            // Загрузка YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            // Обработчики событий
            togglePlayerBtn.addEventListener('click', togglePlayer);
            playBtn.addEventListener('click', togglePlay);
            prevBtn.addEventListener('click', playPrevTrack);
            nextBtn.addEventListener('click', playNextTrack);
            progressContainer.addEventListener('click', setProgress);
            searchInput.addEventListener('input', handleSearchInput);

            // Загрузка плейлиста по умолчанию
            searchTracks('КруЭлла Тампоны! (S-Teklorez Remix)');
        }

        // Функция для создания YouTube плеера
        function onYouTubeIframeAPIReady() {
            playerState.apiReady = true;
            playerState.player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                playerVars: {
                    autoplay: 0,
                    controls: 0,
                    disablekb: 1,
                    fs: 0,
                    rel: 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            playerState.playerReady = true;
            
            // Если треки уже загружены, воспроизводим первый
            if (playerState.tracks.length > 0 && playerState.currentTrackIndex === -1) {
                playTrack(0);
            }
        }

        function onPlayerStateChange(event) {
            switch (event.data) {
                case YT.PlayerState.PLAYING:
                    playerState.isPlaying = true;
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    updateProgressBar();
                    break;
                case YT.PlayerState.PAUSED:
                    playerState.isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    break;
                case YT.PlayerState.ENDED:
                    playNextTrack();
                    break;
            }
        }

        // Поиск треков на YouTube
        function searchTracks(query) {
            if (!query) return;
            
            playerState.searchQuery = query;
            
            fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=50&q=${encodeURIComponent(query)}&type=video&key=${YOUTUBE_API_KEY}`)
                .then(response => response.json())
                .then(data => {
                    playerState.tracks = data.items.map(item => ({
                        id: item.id.videoId,
                        title: item.snippet.title,
                        artist: item.snippet.channelTitle,
                        thumbnail: item.snippet.thumbnails.default.url
                    }));
                    
                    renderPlaylist();
                    
                    // Автовоспроизведение первого трека
                    if (playerState.currentTrackIndex === -1 && playerState.tracks.length > 0) {
                        playTrack(0);
                    }
                });
        }

        // Обработчик ввода поиска
        function handleSearchInput(e) {
            clearTimeout(playerState.searchTimeout);
            playerState.searchTimeout = setTimeout(() => {
                searchTracks(e.target.value);
            }, 500);
        }

        // Воспроизведение трека по индексу
        function playTrack(index) {
            if (index < 0 || index >= playerState.tracks.length) return;
            
            playerState.currentTrackIndex = index;
            const track = playerState.tracks[index];
            
            // Обновляем информацию о треке
            trackTitle.textContent = track.title;
            trackArtist.textContent = track.artist;
            
            // Выделяем текущий трек в плейлисте
            const playlistItems = document.querySelectorAll('.playlist-item');
            playlistItems.forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });
            
            // Загружаем и воспроизводим трек
            if (playerState.player && playerState.player.loadVideoById) {
                playerState.player.loadVideoById(track.id);
                playerState.player.playVideo();
                playerState.isPlaying = true;
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
        }

        // Переключение воспроизведения/паузы
        function togglePlay() {
            if (!playerState.player || playerState.currentTrackIndex === -1) return;
            
            if (playerState.isPlaying) {
                playerState.player.pauseVideo();
                playerState.isPlaying = false;
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                playerState.player.playVideo();
                playerState.isPlaying = true;
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
        }

        // Следующий трек
        function playNextTrack() {
            if (playerState.tracks.length === 0) return;
            
            const nextIndex = (playerState.currentTrackIndex + 1) % playerState.tracks.length;
            playTrack(nextIndex);
        }

        // Предыдущий трек
        function playPrevTrack() {
            if (playerState.tracks.length === 0) return;
            
            const prevIndex = (playerState.currentTrackIndex - 1 + playerState.tracks.length) % playerState.tracks.length;
            playTrack(prevIndex);
        }

        // Обновление прогресс-бара
        function updateProgressBar() {
            if (!playerState.player || !playerState.isPlaying) return;
            
            const duration = playerState.player.getDuration();
            const currentTime = playerState.player.getCurrentTime();
            
            // Обновляем время
            if (!isNaN(duration)) {
                currentTimeEl.textContent = formatTime(currentTime);
                durationEl.textContent = formatTime(duration);
                
                // Обновляем прогресс-бар
                const progressPercent = (currentTime / duration) * 100;
                progressBar.style.width = `${progressPercent}%`;
            }
            
            requestAnimationFrame(updateProgressBar);
        }

        // Установка прогресса по клику
        function setProgress(e) {
            if (!playerState.player) return;
            
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = playerState.player.getDuration();
            playerState.player.seekTo((clickX / width) * duration);
        }

        // Форматирование времени
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Отрисовка плейлиста
        function renderPlaylist() {
            playlistEl.innerHTML = '';
            
            playerState.tracks.forEach((track, index) => {
                const item = document.createElement('div');
                item.className = `playlist-item ${index === playerState.currentTrackIndex ? 'active' : ''}`;
                item.textContent = `${index + 1}. ${track.title}`;
                item.addEventListener('click', () => playTrack(index));
                playlistEl.appendChild(item);
            });
        }

        // Переключение видимости плеера
        function togglePlayer() {
            musicPlayer.classList.toggle('active');
        }

        // Инициализируем плеер при загрузке страницы
        window.addEventListener('DOMContentLoaded', initPlayer);
</script>
</body>
</html>
